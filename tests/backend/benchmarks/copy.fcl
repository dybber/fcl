sig copy : [int] -> Program <grid> [int]<grid>
fun copy arr =
  splitUp #BlockSize arr
   |> mapPull (fn arr => return <block> (push <block> arr))
   |> concat #BlockSize


sig example : Program <grid> [int]<grid>
fun example = copy (generate (2048 * 2048) (fn i => i))

sig main : Program <grid> unit
fun main =
 do { arr <- example
    ; forceAndPrint 100 arr
    ; benchmark 10 (bind example force)
    }
