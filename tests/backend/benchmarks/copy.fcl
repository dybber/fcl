sig copy : [int] -> Program <grid> [int]<grid>
fun copy arr =
  splitUp #BlockSize arr
   |> mapPull (fn arr => return <block> (push <block> arr))
   |> concat #BlockSize

sig main : Program <grid> unit
fun main =
  do { arr <- copy (generatePull (2048 * 2048) (fn i => i))
     ; forceAndPrint 100 arr
     ; benchmark 10 arr
     }
